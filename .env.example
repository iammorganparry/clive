# Clive Environment Configuration
# Copy this file to .env and fill in your values
# All environment variables are loaded from this root file

# ===========================================
# DATABASE (for Next.js app)
# ===========================================
POSTGRES_URL=postgresql://supabase_admin:your-super-secret-and-long-postgres-password@localhost:5432/postgres

# ===========================================
# AUTH (for Next.js app)
# ===========================================
AUTH_GITHUB_CLIENT_ID=your-github-client-id
AUTH_GITHUB_CLIENT_SECRET=your-github-client-secret

# ===========================================
# CLERK (for VS Code extension)
# ===========================================
VITE_CLERK_PUBLISHABLE_KEY=pk_test_...

# ===========================================
# SLACK INTEGRATION
# ===========================================

# Slack Bot OAuth Token (starts with xoxb-)
# Get from: https://api.slack.com/apps > Your App > OAuth & Permissions
SLACK_BOT_TOKEN=xoxb-your-bot-token

# Slack Signing Secret
# Get from: https://api.slack.com/apps > Your App > Basic Information > App Credentials
SLACK_SIGNING_SECRET=your-signing-secret

# Port for Slack app server (default: 3000)
SLACK_PORT=3000

# ===========================================
# SLACK MODE CONFIGURATION
# ===========================================

# Operation mode: 'distributed' (default) or 'local' (single user with ngrok)
CLIVE_MODE=distributed

# Worker API token for central service (required)
# Generate with: openssl rand -hex 32
CLIVE_WORKER_API_TOKEN=your-generated-token

# WebSocket path for worker connections (default: /ws)
# CLIVE_WS_PATH=/ws

# ===========================================
# WORKER CONFIGURATION
# ===========================================

# API token matching CLIVE_WORKER_API_TOKEN on central service
CLIVE_WORKER_TOKEN=your-generated-token

# WebSocket URL of central service
# For local dev: ws://localhost:3000/ws
# For production: wss://your-deployed-url.com/ws
CLIVE_CENTRAL_URL=ws://localhost:3000/ws

# ===========================================
# LOCAL MODE (optional, not recommended)
# ===========================================

# ngrok auth token (only required if CLIVE_MODE=local)
# Get from: https://dashboard.ngrok.com/get-started/your-authtoken
# NGROK_AUTH_TOKEN=your-ngrok-token

# Projects this worker has access to (choose one method):

# Method 1: Single workspace (simplest)
# CLIVE_WORKSPACE_ROOT=/path/to/project

# Method 2: Multiple workspaces (comma-separated)
# CLIVE_WORKSPACE_ROOTS=/path/to/frontend,/path/to/backend

# Method 3: Full JSON configuration with aliases
# CLIVE_PROJECTS='[{"id":"frontend","name":"Frontend App","path":"/path","aliases":["fe"]}]'

# Method 4: Path to JSON config file
# CLIVE_PROJECTS_FILE=/path/to/projects.json

# Default project when none specified in request
# CLIVE_DEFAULT_PROJECT=frontend

# Worker hostname for identification (default: OS hostname)
# CLIVE_WORKER_HOSTNAME=my-workstation

# Heartbeat interval in milliseconds (default: 30000)
# CLIVE_HEARTBEAT_INTERVAL=30000

# Reconnect delay in milliseconds (default: 5000)
# CLIVE_RECONNECT_DELAY=5000

# Max reconnect attempts (default: 10)
# CLIVE_MAX_RECONNECT_ATTEMPTS=10
